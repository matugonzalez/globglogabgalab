---
import { getCollection, render, getEntry } from "astro:content"
import Book from "../Book.astro";
const books = (await getCollection('books'));
const now = new Date;
const start = new Date(now.getFullYear(), 0, 0);
const diff = now.getTime() - start.getTime();
const oneDay = 1000 * 60 * 60 * 24;
const today = Math.floor(diff / oneDay);
const bookIndex = today % books.length;
const book = books[bookIndex];
---
    <section aria-label="Daily Books">
        <Book book={book} />
    </section>
